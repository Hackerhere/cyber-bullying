{"filter":false,"title":"application.js","tooltip":"/app/assets/javascripts/application.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":88,"column":0},"action":"insert","lines":["var ul;","var li_items; ","var li_number;","var image_number = 0;","var slider_width = 0;","var image_width;","var current = 0;","function init(){\t","\tul = document.getElementById('image_slider');","\tli_items = ul.children;","\tli_number = li_items.length;","\tfor (i = 0; i < li_number; i++){","\t\t// nodeType == 1 means the node is an element.","\t\t// in this way it's a cross-browser way.","\t\t//if (li_items[i].nodeType == 1){","\t\t\t//clietWidth and width???","\t\t\timage_width = li_items[i].childNodes[0].clientWidth;","\t\t\tslider_width += image_width;","\t\t\timage_number++;","\t}","\t","\tul.style.width = parseInt(slider_width) + 'px';","\tslider(ul);","}","","function slider(){\t\t","\t\tanimate({","\t\t\tdelay:17,","\t\t\tduration: 3000,","\t\t\tdelta:function(p){return Math.max(0, -1 + 2 * p)},","\t\t\tstep:function(delta){","\t\t\t\t\tul.style.left = '-' + parseInt(current * image_width + delta * image_width) + 'px';","\t\t\t\t},","\t\t\tcallback:function(){","\t\t\t\tcurrent++;","\t\t\t\tif(current < li_number-1){","\t\t\t\t\tslider();","\t\t\t\t}","\t\t\t\telse{","\t\t\t\t\tvar left = (li_number - 1) * image_width;\t\t\t\t\t","\t\t\t\t\tsetTimeout(function(){goBack(left)},2000); \t\t\t\t","\t\t\t\t\tsetTimeout(slider, 4000);","\t\t\t\t}","\t\t\t}","\t\t});","}","function goBack(left_limits){","\tcurrent = 0;\t","\tsetInterval(function(){","\t\tif(left_limits >= 0){","\t\t\tul.style.left = '-' + parseInt(left_limits) + 'px';","\t\t\tleft_limits -= image_width / 10;","\t\t}\t","\t}, 17);","}","function animate(opts){","\tvar start = new Date;","\tvar id = setInterval(function(){","\t\tvar timePassed = new Date - start;","\t\tvar progress = timePassed / opts.duration","\t\tif(progress > 1){","\t\t\tprogress = 1;","\t\t}","\t\tvar delta = opts.delta(progress);","\t\topts.step(delta);","\t\tif (progress == 1){","\t\t\tclearInterval(id);","\t\t\topts.callback();","\t\t}","\t}, opts.dalay || 17);","}","window.onload = init;",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":22},"end":{"row":14,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1426229377100,"hash":"fe233a74219df7afb3d35621991cde43547c9c11"}